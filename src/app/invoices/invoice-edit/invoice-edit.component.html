<div class="row">
    <div class="col-xs-12">
        <form [formGroup]="invoiceForm" (ngSubmit)="onSubmit()">
            
            <div class="row">
                <div class="col-xs-12">
                    <div class="form-group">
                        <label for="name">ID : </label>
                        <input
                            type="text"
                            id="id"
                            formControlName="id"
                            class="form-control"
                            [readonly]="true">
                    </div>
                </div>
            </div>

            <!-- <div class="row">
                <div class="col-xs-12">
                    <div class="form-group">
                        <label for="cust_id">Billed To : (Customer's Id)</label>
                        <select 
                        #custIdSelect 
                        class="form-control" 
                        id="cust_id" 
                        formControlName="cust_id"
                        [(ngModel)]="selectedCustId">
                            <option value="" disabled selected>{{placeholder}}</option>
                            <option *ngFor="let id of cust_ids; let i = index" [(value)]="cust_ids[i]">{{ id }}</option>
                          </select>
                    </div>
                </div>
            </div>     -->

            <div class="row">
                <div class="col-xs-12">
                    <div class="form-group">
                        <label for="cust_name_filter">Billed To : (Customer's Name)</label>
                        <!-- <input type="search" [(ngModel)]="searchText" placeholder="Search text"> -->
                        <input
                            type="search"
                            list="customersname"
                            [(ngModel)]="selectedCustId"
                            placeholder="Search text"
                            id="cust_name_filter"
                            [formControl]="cust_name_control"
                            class="form-control">
                            <div class="panel panel-default panel-body datalist" *ngIf="customers.length > 0  && !(customers.length == 1 && customers[0].id == selectedCustId)">
                                <ul>
                                    <li *ngFor="let cust_n of customers | filter: cust_name_filter">
                                    <a style="cursor:pointer;" (click)="selectCustId(cust_n.id)">{{ cust_n.name }} : ID - {{ cust_n.id }}</a></li>
                                </ul>
                            </div>
                    </div>
                    
                </div>
            </div>  
            <!-- <ul *ngFor="let cust_n of customers | filter: cust_name">
                <li>{{cust_n.name}}</li>
              </ul> -->

            <div class="row" *ngIf="!!selectedCustId_flag">
                <div class="col-xs-12">
                    <div class="form-group">
                        <label for="cust_id">Customer's ID</label>
                        <input
                            type="text"
                            id="cust_id"
                            [formControl]="cust_id"
                            class="form-control"
                            [readonly]="true"
                            style="border: 3px solid red;">
                    </div>
                </div>
            </div>
              
            <div class="row" *ngIf="!!selectedCustId_flag">
                <div class="col-xs-12">
                    <div class="form-group">
                        <label for="cust_name">Customer's Name</label>
                        <input
                            type="text"
                            id="cust_name"
                            [formControl]="cust_name"
                            class="form-control"
                            [readonly]="true"
                            style="border: 3px solid red;">
                    </div>
                </div>
            </div>     
            
            <div class="row" *ngIf="!!selectedCustId_flag">
                <div class="col-xs-12">
                    <div class="form-group">
                        <label for="cust_mobile_no">Customer's Mobile No</label>
                        <input
                        type="number"
                        id="cust_mobile_no"
                        [formControl]="cust_mobile_no"
                        class="form-control"
                        [readonly]="true"
                        style="border: 3px solid red;">
                    </div>
                </div>
            </div>
            
            <div class="row" *ngIf="!!selectedCustId_flag">
                <div class="col-xs-12">
                    <div class="form-group">
                        <label for="cust_address">Customer's Address</label>
                        <textarea
                            type="text"
                            id="cust_address"
                            [formControl]="cust_address"
                            class="form-control"
                            rows="2"
                            [readonly]="true"
                            style="border: 3px solid red;"></textarea>
                    </div>
                </div>
            </div>
            
            <div class="row" *ngIf="!!selectedCustId_flag">
                <div class="col-xs-12">
                    <div class="form-group">
                        <label for="cust_gst_no">Customer's GST No</label>
                        <input
                        type="number"
                        id="cust_gst_no"
                        [formControl]="cust_gst_no"
                        class="form-control"
                        [readonly]="true"
                        style="border: 3px solid red;">
                    </div>
                </div>
            </div>

            <div class="row" *ngIf="!!selectedCustId_flag">
                <div class="col-xs-12">
                    <div class="form-group">
                        <button 
                        type="button" 
                        class="btn btn-success"
                        (click)="onSelectCustBtn()"
                        >Select Customer</button>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-xs-12">
                    <div class="form-group">
                        <label for="prod_name">Products to buy: </label>
                        <input
                            type="text"
                            id="prod_name"
                            [formControl]="prod_name"
                            class="form-control">
                    </div>
                </div>
            </div>  

            <div class="row">
                <div class="col-xs-12">
                    <button 
                    type="submit" 
                    class="btn btn-success"
                    [disabled]="!invoiceForm.valid">Save</button>
                    <button type="button" class="btn btn-danger" (click)="onCancel()">Cancel</button>
                </div>
            </div>
            
        </form>
    </div>
</div>
